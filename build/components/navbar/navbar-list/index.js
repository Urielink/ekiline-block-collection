(()=>{"use strict";var e,l={2339:()=>{const e=window.wp.blocks,l=window.wp.i18n,t=window.wp.blockEditor,o=window.wp.components,n=window.wp.data,a=window.wp.primitives,i=window.ReactJSXRuntime,r=(0,i.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(a.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),s=(0,i.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(a.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),c=(0,i.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)(a.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})}),d=window.wp.element,g=e=>e?Array.from(new Set(e.split(/\s+/).filter(Boolean))):[],h=e=>{const l=e?.attributes?.content||"",{label:t,url:o}=(e=>{if(!e)return{label:"",url:""};const l=document.createElement("div");l.innerHTML=e;const t=l.querySelector("a");return t?{label:t.textContent.trim(),url:t.getAttribute("href")||""}:{label:l.textContent.trim(),url:""}})(l),{href:n,aClasses:a,aStyle:i,inner:r,rel:s,target:c}=(e=>{const l=document.createElement("div");l.innerHTML=e||"";const t=l.querySelector("a");return t?{href:t.getAttribute("href")||"",aClasses:g(t.getAttribute("class")||""),aStyle:t.getAttribute("style")||"",inner:t.innerHTML||"",rel:t.getAttribute("rel")||"",target:t.getAttribute("target")||""}:{href:"",aClasses:[],aStyle:"",inner:"",rel:"",target:""}})(l),d=o||n?"link":"text",b=g(e?.attributes?.className||""),m=e?.attributes?.style||null,u=e?.attributes?.textColor||"",p=e?.attributes?.fontSize||"",v=(k=m?.elements?.link?.color?.text||"")&&"string"==typeof k&&(k.match(/var:preset\|(?:color|font-size)\|([^|\s]+)/)||[])[1]||"";var k;const x=(e?.innerBlocks||[]).find(e=>"core/list"===e.name),y=x?(x.innerBlocks||[]).filter(e=>"core/list-item"===e.name).map(h):[],f={type:d,label:t,url:o||n||"",raw:l,liClasses:b,liStyle:m,aClasses:a,aStyle:i,labelHtml:r,rel:s,target:c,textColorSlug:u,fontSizeSlug:p,linkColorSlug:v};return y.length&&(f.children=y),f},b=(e=[],l=0)=>{const t=0===l,o=t?"navbar-nav":"dropdown-menu";return(0,i.jsx)("ul",{className:o,onClick:e=>{e.preventDefault(),e.stopPropagation()},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onKeyDown:e=>{e.preventDefault(),e.stopPropagation()},role:"presentation",children:e.map((e,o)=>{const n=Array.isArray(e.children)&&e.children.length>0,a="text"===e.type&&!n,r=t?n?"nav-item dropdown":a?"":"nav-item":n?"dropdown-submenu dropend":"",s=[e.textColorSlug?`has-${e.textColorSlug}-color has-text-color`:"",e.fontSizeSlug?`has-${e.fontSizeSlug}-font-size`:"",e.linkColorSlug?"has-link-color":""].filter(Boolean).join(" "),c=[r,(e.liClasses||[]).join(" "),s].filter(Boolean).join(" ").trim(),d=[t?n?"nav-link dropdown-toggle":"nav-link":n?"dropdown-item dropdown-toggle":"dropdown-item",(e.aClasses||[]).join(" ")].filter(Boolean).join(" ").trim(),g=e.liStyle||void 0,h=e.aStyle&&e.aStyle.trim()?e.aStyle.split(";").reduce((e,l)=>{const[t,o]=l.split(":").map(e=>e&&e.trim()).filter(Boolean);return t&&o&&(e[t.replace(/-([a-z])/g,(e,l)=>l.toUpperCase())]=o),e},{}):void 0;return a?(0,i.jsx)("li",{className:c,style:g,children:(0,i.jsx)("span",{className:t?"nav-link navbar-text":"dropdown-item-text",children:e.raw?(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:e.raw}}):e.label||""})},o):(0,i.jsxs)("li",{className:c,style:g,children:[(0,i.jsx)("a",{className:d,href:e.url||"#",style:h,rel:e.rel||void 0,target:e.target||void 0,...n?{"data-bs-toggle":"dropdown",role:"button","aria-expanded":"false"}:{},children:e.labelHtml?(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:e.labelHtml}}):e.label||""}),n?b(e.children,l+1):null]},o)})})},m=(e,l)=>e.brandLogoAlt||l||"Site logo",u=Object.fromEntries([{name:"collectionIcon",d:"M18,0H2C0.9,0,0,0.9,0,2v16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V2C20,0.9,19.1,0,18,0z M16,10.69H8.27V8.66h5.7l0-0.79l-2.25-2.23l-5.7-0.02l-0.01,6.5l2.25,2.23l5.7,0.02l0-1.68H16v3.71l-8.57-0.04L4,12.97V3.59l8.57,0.04L16,7.03V10.69z"},{name:"accordionIcon",d:"M1,1V6.04H19V1H1ZM18.1,5.14H1.9V1.9H18.1v3.24Zm-2.8,12.51l1.44-1.17-1.44-1.17v2.34Zm-14.3,1.35H19v-5.04H1v5.04Zm.9-4.14H18.1v3.24H1.9v-3.24Zm-.9-2.34H19V7.48H1v5.04Zm16.19-3.24l-1.17,1.44-1.17-1.44h2.34Zm-1.89-6.93v2.34l1.44-1.17-1.44-1.17Z"},{name:"carouselIcon",d:"M10.51,15.06c.28-.28,.28-.74,0-1.02-.28-.28-.74-.28-1.02,0-.28,.28-.28,.74,0,1.02,.28,.28,.74,.28,1.02,0Zm1.93,0c.28-.28,.28-.74,0-1.02-.28-.28-.74-.28-1.02,0-.28,.28-.28,.74,0,1.02,.28,.28,.74,.28,1.02,0Zm2.96-6.23v2.34l1.44-1.17-1.44-1.17ZM1,2.8v14.4H19V2.8H1Zm16.92,13.32H2.08V3.88h15.84v12.24Zm-9.34-1.06c.28-.28,.28-.74,0-1.02-.28-.28-.74-.28-1.02,0-.28,.28-.28,.74,0,1.02,.28,.28,.74,.28,1.02,0Zm-3.98-6.23l-1.44,1.17,1.44,1.17v-2.34Z"},{name:"collapseIcon",d:"M15.55,11.31h-1.74v1.08h1.74v-1.08Zm-3.12,0h-1.74v1.08h1.74v-1.08ZM1,1V19H19V1H1Zm16.19,1.8l-1.17,1.44-1.17-1.44h2.34Zm.73,8.51h-.98v1.08h.98v5.53H2.08v-5.53h.97v-1.08h-.97V6.04h15.84v5.27Zm-11.74,0h-1.74v1.08h1.74v-1.08Zm3.12,0h-1.74v1.08h1.74v-1.08Z"},{name:"modalIcon",d:"M15.32,5.14l.64-.64,.64,.64,.76-.76-.64-.64,.63-.63-.76-.76-.63,.63-.63-.63-.76,.76,.63,.63-.64,.64,.76,.76Zm2.78-4.14H1.9c-.5,0-.9,.4-.9,.9V18.1c0,.5,.4,.9,.9,.9H18.1c.5,0,.9-.4,.9-.9V1.9c0-.5-.4-.9-.9-.9Zm-.18,16.92H2.08v-3.36h15.84v3.36Zm0-4.44H2.08V6.52h15.84v6.97Zm0-8.05H2.08V2.08h15.84v3.36Z"},{name:"navigationIcon",d:"M12.16,5.26l-.76-.76-3.56,3.56,.76,.76,3.56-3.56Zm-2.99,.57c.28-.28,.28-.74,0-1.02s-.74-.28-1.02,0c-.28,.28-.28,.74,0,1.02,.28,.28,.74,.28,1.02,0Zm1.65,1.65c-.28,.28-.28,.74,0,1.02s.74,.28,1.02,0c.28-.28,.28-.74,0-1.02-.28-.28-.74-.28-1.02,0Zm3.46,3.13H1v5.04H19v-5.04h-4.72Zm-7.16,4.14h-1.08v-3.24h1.08v3.24Zm2.47,0h-1.15v-3.24h1.15v3.24Zm3.38,0h-2.07v-3.24h2.07v3.24Zm5.13,0h-3.82v-3.24h3.82v3.24Z"},{name:"offcanvasIcon",d:"M9.46,12.43h1.08v-1.74h-1.08v1.74Zm0,3.12h1.08v-1.74h-1.08v1.74Zm0-6.25h1.08v-1.74h-1.08v1.74ZM13.42,1H1V19H19V1h-5.58Zm0,16.92h-2.88v-.98h-1.08v.98H2.08V2.08h7.38v.97h1.08v-.97h2.88v15.84Zm3.51-6.76l-1.44-1.17,1.44-1.17v2.34Zm-7.47-4.98h1.08v-1.74h-1.08v1.74Z"},{name:"popoverIcon",d:"M10.57,13.14l1.15-2.18h5.48c.99,0,1.8-.81,1.8-1.8V1.78c0-.99-.81-1.8-1.8-1.8H2.8c-.99,0-1.8,.81-1.8,1.8v7.38c0,.99,.81,1.8,1.8,1.8h5.48l1.15,2.18H1v4.88H19v-4.88H10.57Zm-1.33-2.68l-.3-.57H2.8c-.4,0-.72-.32-.72-.72V1.78c0-.4,.32-.72,.72-.72h14.4c.4,0,.72,.32,.72,.72v7.38c0,.4-.32,.72-.72,.72h-6.13l-.3,.57-.77,1.45-.77-1.45Z"},{name:"progressIcon",d:"M12.16,5.26l-.76-.76-3.56,3.56,.76,.76,3.56-3.56Zm-2.99,.57c.28-.28,.28-.74,0-1.02s-.74-.28-1.02,0c-.28,.28-.28,.74,0,1.02,.28,.28,.74,.28,1.02,0Zm1.65,1.65c-.28,.28-.28,.74,0,1.02s.74,.28,1.02,0c.28-.28,.28-.74,0-1.02-.28-.28-.74-.28-1.02,0Zm3.46,3.13H1v5.04H19v-5.04h-4.72Zm-7.16,4.14h-1.08v-3.24h1.08v3.24Zm2.47,0h-1.15v-3.24h1.15v3.24Zm3.38,0h-2.07v-3.24h2.07v3.24Zm5.13,0h-3.82v-3.24h3.82v3.24Z"},{name:"tabsIcon",d:"M10,1H1V19H19V1H10Zm-3.33,1.8l-1.17,1.44-1.17-1.44h2.34Zm11.25,15.12H2.08V6.04h15.84v11.88Zm0-13.23h-7.92V2.08h7.92v2.61Z"},{name:"toastIcon",d:"M5.35,3.63l-2.03,.3,.84,5.66,2.03-.3-.84-5.66Zm.73,6.69c-.48-.36-1.16-.26-1.51,.22s-.26,1.16,.22,1.51c.48,.36,1.16,.26,1.51-.22s.26-1.16-.22-1.51Zm12.93-1.1h-5.4V1H1V19H13.6v-2.22h5.4v-7.56Zm-6.48,8.7H2.08V2.08H12.52v7.14h-2.88c-.99,0-1.8,.81-1.8,1.8v3.96c0,.99,.81,1.8,1.8,1.8h2.88v1.14Zm-2.88-2.22c-.4,0-.72-.32-.72-.72v-3.96c0-.4,.32-.72,.72-.72h8.28v5.4H9.64Zm7.86-4.37l-.76-.76-.63,.63-.63-.63-.76,.76,.63,.63-.64,.64,.76,.76,.64-.64,.64,.64,.76-.76-.64-.64,.63-.63Z"}].map(({name:e,d:l})=>[e,(0,d.createElement)("svg",{width:20,height:20},(0,d.createElement)("path",{d:l}))])),{tabsIcon:p}=u,v=[["core/list",{},[["core/list-item",{content:"Home"}],["core/list-item",{content:"Features"}],["core/list-item",{content:"Pricing"}],["core/list-item",{content:"Dropdown link"},[["core/list",{},[["core/list-item",{content:"Action"}],["core/list-item",{content:"Another action"}],["core/list-item",{content:"Something else here"}]]]]]]]],k=["core/list"],x=(...e)=>{const l=new Set;return e.forEach(e=>{e&&(Array.isArray(e)?e.forEach(e=>e&&l.add(e)):"string"==typeof e&&e.split(/\s+/).forEach(e=>e&&l.add(e)))}),Array.from(l).join(" ")},y=(e=[],l=0)=>{const t=0===l,o=t?"navbar-nav":"dropdown-menu";return(0,i.jsx)("ul",{className:o,children:e.map((e,o)=>{!Array.isArray(e.liClasses)&&e.liClass&&(e.liClasses=e.liClass.split(/\s+/).filter(Boolean)),!Array.isArray(e.aClasses)&&e.aClass&&(e.aClasses=e.aClass.split(/\s+/).filter(Boolean));const n=Array.isArray(e.children)&&e.children.length>0,a="text"===e.type&&!n,r=t?n?"nav-item dropdown":a?"":"nav-item":n?"dropdown-submenu dropend":"",s=x(e.textColorSlug?`has-${e.textColorSlug}-color has-text-color`:"",e.fontSizeSlug?`has-${e.fontSizeSlug}-font-size`:"",e.linkColorSlug?"has-link-color":""),c=x(r,e.liClasses,s),g=x(t?n?"nav-link dropdown-toggle":"nav-link":n?"dropdown-item dropdown-toggle":"dropdown-item",e.aClasses),h=(e=>{if(!e)return;const l={};return e.typography&&(e.typography.fontSize&&(l.fontSize=e.typography.fontSize),e.typography.fontStyle&&(l.fontStyle=e.typography.fontStyle),e.typography.fontWeight&&(l.fontWeight=e.typography.fontWeight),e.typography.textDecoration&&(l.textDecoration=e.typography.textDecoration),e.typography.letterSpacing&&(l.letterSpacing=e.typography.letterSpacing),e.typography.lineHeight&&(l.lineHeight=e.typography.lineHeight)),e.color&&(e.color.text&&(l.color=e.color.text),e.color.background&&(l.backgroundColor=e.color.background)),Object.keys(l).length?l:void 0})(e.liStyle),b=(e=>{if(e)return e.split(";").reduce((e,l)=>{const[t,o]=l.split(":").map(e=>e&&e.trim()).filter(Boolean);return t&&o?(e[t.replace(/-([a-z])/g,(e,l)=>l.toUpperCase())]=o,e):e},{})})(e.aStyle);if(a)return t?(0,i.jsx)("li",{className:c,style:h,children:(0,i.jsx)("span",{className:"nav-link navbar-text",children:e.raw?(0,i.jsx)(d.RawHTML,{children:e.raw}):e.label||""})},o):(0,i.jsx)("li",{className:c,style:h,children:(0,i.jsx)("span",{className:"dropdown-item-text",children:e.raw?(0,i.jsx)(d.RawHTML,{children:e.raw}):e.label||""})},o);const m={className:g,href:e.url||"#",rel:e.rel||void 0,target:e.target||void 0};return n&&(m["data-bs-toggle"]="dropdown",m.role="button",m["aria-expanded"]="false"),(0,i.jsxs)("li",{className:c,style:h,children:[(0,i.jsx)("a",{...m,style:b,children:e.labelHtml?(0,i.jsx)(d.RawHTML,{children:e.labelHtml}):e.label||""}),n?y(e.children,l+1):null]},o)})})},f=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"ekiline-block-collection/navbar-list","version":"0.1.0","textdomain":"ekiline-block-collection","title":"Ekiline Navbar (por lista)","category":"design","icon":"menu","description":"Navbar Bootstrap generado a partir de un bloque Lista.","example":{},"supports":{"anchor":true,"html":false,"spacing":{"margin":true,"padding":true},"color":{"text":true,"background":true,"link":true},"border":{"color":true,"radius":true,"style":true,"width":true}},"attributes":{"menuHtml":{"type":"string","default":""},"menuJson":{"type":"string","default":"[]"},"isEditingMenu":{"type":"boolean","default":true},"navStyle":{"type":"string","default":"collapse"},"navShow":{"type":"string","default":" navbar-expand-lg"},"navPosition":{"type":"string","default":""},"alignItems":{"type":"string","default":""},"container":{"type":"string","default":"container-fluid"},"brandText":{"type":"string","default":"Navbar"},"targetId":{"type":"string","default":"navbarNavDropdown"},"brandMode":{"type":"string","default":"text"},"showTagline":{"type":"boolean","default":false},"taglineText":{"type":"string","default":""},"brandLogoMode":{"type":"string","default":"auto"},"brandLogoId":{"type":"number","default":0},"brandLogoUrl":{"type":"string","default":""},"brandLogoWidth":{"type":"number","default":0},"brandLogoHeight":{"type":"number","default":0},"brandLogoAlt":{"type":"string","default":""},"brandLogoLinkHome":{"type":"boolean","default":true},"brandHomeUrl":{"type":"string","default":""}},"editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":"file:./view.js"}'),{collectionIcon:_,navigationIcon:w}=u;var j;j=_,(0,e.registerBlockCollection)("ekiline-block-collection",{title:"Ekiline Block Collection",icon:j}),(0,e.registerBlockType)(f.name,{...f,icon:w,edit:function({attributes:a,setAttributes:g,clientId:u}){const{menuHtml:x,menuJson:y,isEditingMenu:f,navStyle:_,navShow:w,navPosition:j,alignItems:S,container:C,brandText:H,targetId:L}=a,N=(0,t.useBlockProps)(),Z=/\bhas-[\w-]+/.test(N?.className||""),M=!(!N?.style||!N.style.color&&!N.style.backgroundColor),T=!(Z||M),B={className:[N?.className,"navbar",j||"",w||"",T?"bg-body-tertiary":""].filter(Boolean).join(" ").replace(/\s+/g," "),style:{...N?.style||{},opacity:.95}},I=C||"",A=({className:e,children:l})=>e?(0,i.jsx)("div",{className:e,children:l}):(0,i.jsx)(i.Fragment,{children:l}),V=()=>`ek-nav-${u.slice(0,8)}-${Math.random().toString(36).slice(2,6)}`,z=(()=>{const e=(0,n.useSelect)(e=>e("core").getEntityRecord("root","site"),[]),l=e?.url||e?.home||"",t=e?.title||"",o=e?.site_logo||e?.site_logo_id||0,a=(0,n.useSelect)(e=>o?e("core").getEntityRecord("root","media",o):null,[o]);return{siteHome:l,siteTitle:t,siteLogoId:o,siteLogoMedia:a}})();((e,l,t)=>{const{siteHome:o,siteLogoId:n,siteLogoMedia:a}=t;(0,d.useEffect)(()=>{o&&e.brandHomeUrl!==o&&l({brandHomeUrl:o})},[o]),(0,d.useEffect)(()=>{"auto"===e.brandLogoMode&&n&&a&&a.source_url&&l({brandLogoId:n,brandLogoUrl:a.source_url,brandLogoAlt:e.brandLogoAlt||a?.alt_text||""})},[e.brandLogoMode,n,!!a,a?.source_url])})(a,g,z);const{siteTitle:E}=z;(0,d.useEffect)(()=>{a.targetId&&""!==a.targetId.trim()||g({targetId:V()})},[]);const[$,O]=(0,d.useState)(!1),{getBlocks:U}=(0,n.useSelect)(e=>{const l=e(t.store);return{getBlocks:()=>l.getBlocks(u)}},[u]),{replaceInnerBlocks:P}=(0,n.useDispatch)(t.store),D=()=>{const l=U(),t=l.find(e=>"core/list"===e.name);let o=[];if(t)o=(e=>e?(e.innerBlocks||[]).filter(e=>"core/list-item"===e.name).map(h):[])(t);else{const t=(0,e.serialize)(l).match(/<ul[\s\S]*<\/ul>/),a=t&&(n=t[0])?n.replace(/<!--\s*\/?wp:[\s\S]*?-->/g,"").trim():"";if(a){const e=document.createElement("div");e.innerHTML=a,o=Array.from(e.querySelectorAll(":scope > ul > li")).map(e=>{const l=e.querySelector("a"),t=l?l.textContent.trim():e.textContent.trim(),o=l&&l.getAttribute("href")||"",n=l&&l.getAttribute("rel")||"",a=l&&l.getAttribute("target")||"",i=Array.from(e.querySelectorAll(":scope > ul > li")).map(e=>{const l=e.querySelector("a");return{label:l?l.textContent.trim():e.textContent.trim(),url:l&&l.getAttribute("href")||""}}),r={label:t,url:o,rel:n,target:a};return i.length&&(r.children=i),r})}}var n;const a=(e=[],l=0)=>{const t=0===l?"navbar-nav":"";return`<ul${t?` class="${t}"`:""}>${e.map(e=>{const t=e.label||"";return`<li>${e.url?`<a href="${e.url}">${t}</a>`:t}${e.children&&e.children.length?a(e.children,l+1):""}</li>`}).join("")}</ul>`},i=a(o);g({menuJson:JSON.stringify(o),menuHtml:i,isEditingMenu:!1}),P(u,[],!1)};return(0,i.jsxs)("div",{...N,children:[(0,i.jsx)(t.BlockControls,{children:(0,i.jsxs)(o.ToolbarGroup,{children:[(0,i.jsx)(o.ToolbarButton,{icon:r,label:(0,l.__)("Edit navigation","ekiline-block-collection"),onClick:()=>{g({isEditingMenu:!0});try{const l=((e=[])=>{const l=e=>{const t={};e.liClasses?.length&&(t.className=e.liClasses.join(" ")),e.textColorSlug&&(t.textColor=e.textColorSlug),e.fontSizeSlug&&(t.fontSize=e.fontSizeSlug);const o=e.liStyle?{...e.liStyle}:{};var n;o.elements||(o.elements={}),o.elements.link||(o.elements.link={}),o.elements.link.color||(o.elements.link.color={}),e.linkColorSlug&&(o.elements.link.color.text=(n=e.linkColorSlug)?`var:preset|color|${n}`:""),JSON.stringify(o)!==JSON.stringify({elements:{link:{color:{}}}})&&(t.style=o);const a=e.aClasses?.length?` class="${e.aClasses.join(" ")}"`:"",i=e.aStyle&&e.aStyle.trim()?` style="${e.aStyle.replace(/"/g,"&quot;")}"`:"",r=e.target&&e.target.trim()?` target="${e.target}"`:"",s=e.rel&&e.rel.trim()?` rel="${e.rel}"`:"";let c;if(e.url){const l=e.labelHtml?.trim()?e.labelHtml:e.raw?.trim()?e.raw:e.label||"";c=`<a href="${e.url}"${a}${i}${r}${s}>${l}</a>`}else c=e.raw?.trim()?e.raw:e.labelHtml?.trim()?e.labelHtml:e.label||"";const d=e.children&&e.children.length?[["core/list",{},e.children.map(l)]]:[];return["core/list-item",{...t,content:c},d]};return[["core/list",{},e.map(l)]]})(JSON.parse(y||"[]")),t=(0,e.createBlocksFromInnerBlocksTemplate)(l);P(u,t,!1)}catch(l){console.error("Error parsing menuJson:",l);const t=(0,e.createBlocksFromInnerBlocksTemplate)(v);P(u,t,!1)}},disabled:f,showTooltip:!0}),(0,i.jsx)(o.ToolbarButton,{icon:s,label:(0,l.__)("Save menu","ekiline-block-collection"),onClick:D,disabled:!f,showTooltip:!0}),(0,i.jsx)(o.ToolbarButton,{icon:c,label:(0,l.__)("Toggle JSON preview","ekiline-block-collection"),onClick:()=>O(e=>!e),isPressed:$,showTooltip:!0})]})}),(0,i.jsxs)(t.InspectorControls,{children:[(0,i.jsxs)(o.PanelBody,{title:(0,l.__)("Behavior","ekiline-block-collection"),initialOpen:!0,children:[(0,i.jsx)(o.SelectControl,{label:(0,l.__)("Style","ekiline-block-collection"),value:_,options:[{label:(0,l.__)("Collapsible","ekiline-block-collection"),value:"collapse"},{label:(0,l.__)("Offcanvas","ekiline-block-collection"),value:"offcanvas"}],onChange:e=>g({navStyle:e})}),(0,i.jsx)(o.SelectControl,{label:(0,l.__)("Breakpoint","ekiline-block-collection"),value:w,options:[{label:(0,l.__)("Expand on large screens (lg)","ekiline-block-collection"),value:" navbar-expand-lg"},{label:(0,l.__)("Expand on medium screens (md)","ekiline-block-collection"),value:" navbar-expand-md"},{label:(0,l.__)("Expand on small screens (sm)","ekiline-block-collection"),value:" navbar-expand-sm"},{label:(0,l.__)("Always collapsed","ekiline-block-collection"),value:""}],onChange:e=>g({navShow:e})}),(0,i.jsx)(o.SelectControl,{label:(0,l.__)("Align nav items","ekiline-block-collection"),value:S,options:[{label:(0,l.__)("Start (default)","ekiline-block-collection"),value:""},{label:(0,l.__)("Center","ekiline-block-collection"),value:" justify-content-center"},{label:(0,l.__)("End","ekiline-block-collection"),value:" justify-content-end"}],onChange:e=>g({alignItems:e})}),(0,i.jsx)(o.SelectControl,{label:(0,l.__)("Position","ekiline-block-collection"),value:j,options:[{label:(0,l.__)("Default","ekiline-block-collection"),value:""},{label:(0,l.__)("Fixed top","ekiline-block-collection"),value:" fixed-top"},{label:(0,l.__)("Fixed bottom","ekiline-block-collection"),value:" fixed-bottom"},{label:(0,l.__)("Sticky top","ekiline-block-collection"),value:" sticky-top"}],onChange:e=>g({navPosition:e})}),(0,i.jsx)(o.SelectControl,{label:(0,l.__)("Container","ekiline-block-collection"),value:C,options:[{label:(0,l.__)("Fluid (full-width)","ekiline-block-collection"),value:"container-fluid"},{label:(0,l.__)("Fixed-width","ekiline-block-collection"),value:"container"},{label:(0,l.__)("No container","ekiline-block-collection"),value:""}],onChange:e=>g({container:e})}),(0,i.jsx)(o.TextControl,{label:(0,l.__)("Brand text","ekiline-block-collection"),value:H,onChange:e=>g({brandText:e})}),(0,i.jsx)(o.SelectControl,{label:(0,l.__)("Brand mode","ekiline-block-collection"),value:a.brandMode||"text",options:[{label:(0,l.__)("Hidden","ekiline-block-collection"),value:"none"},{label:(0,l.__)("Text only","ekiline-block-collection"),value:"text"},{label:(0,l.__)("Logo only","ekiline-block-collection"),value:"logo"},{label:(0,l.__)("Logo + Text","ekiline-block-collection"),value:"both"}],onChange:e=>g({brandMode:e}),help:(0,l.__)("Logo uses site logo (requires theme support). Text uses the Brand text field.","ekiline-block-collection")}),("logo"===a.brandMode||"both"===a.brandMode)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.SelectControl,{label:(0,l.__)("Logo source","ekiline-block-collection"),value:a.brandLogoMode||"auto",options:[{label:(0,l.__)("Auto (site logo)","ekiline-block-collection"),value:"auto"},{label:(0,l.__)("Custom (media library)","ekiline-block-collection"),value:"custom"}],onChange:e=>{g({brandLogoMode:e})}}),"custom"===a.brandLogoMode&&(0,i.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,i.jsx)(t.MediaUpload,{onSelect:e=>{const l=e?.sizes?.medium?.url||e?.sizes?.full?.url||e?.url||"",t=e?.sizes?.medium?.width||e?.media_details?.width||0,o=e?.sizes?.medium?.height||e?.media_details?.height||0;g({brandLogoId:e?.id||0,brandLogoUrl:l,brandLogoWidth:t,brandLogoHeight:o,brandLogoAlt:e?.alt||e?.title||""})},allowedTypes:["image"],value:a.brandLogoId||0,render:({open:e})=>(0,i.jsx)(o.Button,{variant:"secondary",onClick:e,children:a.brandLogoUrl?(0,l.__)("Replace image","ekiline-block-collection"):(0,l.__)("Select image","ekiline-block-collection")})}),a.brandLogoUrl&&(0,i.jsx)("span",{style:{fontSize:12,opacity:.7,overflow:"hidden",textOverflow:"ellipsis",maxWidth:180},children:a.brandLogoUrl})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,i.jsx)(o.TextControl,{label:(0,l.__)("Logo width (px)","ekiline-block-collection"),type:"number",min:0,value:0===a.brandLogoWidth?"":a.brandLogoWidth,onChange:e=>{if(""===e||null==e)g({brandLogoWidth:0});else{const l=parseInt(e,10);g({brandLogoWidth:isNaN(l)?0:Math.max(0,l)})}},placeholder:(0,l.__)("auto","ekiline-block-collection")}),(0,i.jsx)(o.TextControl,{label:(0,l.__)("Logo height (px)","ekiline-block-collection"),type:"number",min:0,value:0===a.brandLogoHeight?"":a.brandLogoHeight,onChange:e=>{if(""===e||null==e)g({brandLogoHeight:0});else{const l=parseInt(e,10);g({brandLogoHeight:isNaN(l)?0:Math.max(0,l)})}},placeholder:(0,l.__)("auto","ekiline-block-collection")})]}),(0,i.jsx)(o.TextControl,{label:(0,l.__)("Logo alt text","ekiline-block-collection"),value:a.brandLogoAlt||"",onChange:e=>g({brandLogoAlt:e}),help:(0,l.__)("Used for accessibility. If empty, site title will be used.","ekiline-block-collection")}),(0,i.jsx)(o.SelectControl,{label:(0,l.__)("Link logo to Home","ekiline-block-collection"),value:a.brandLogoLinkHome?"yes":"no",options:[{label:(0,l.__)("Yes","ekiline-block-collection"),value:"yes"},{label:(0,l.__)("No","ekiline-block-collection"),value:"no"}],onChange:e=>g({brandLogoLinkHome:"yes"===e})})]}),(0,i.jsx)(o.SelectControl,{label:(0,l.__)("Tagline","ekiline-block-collection"),value:a.showTagline?"show":"hide",options:[{label:(0,l.__)("Hide","ekiline-block-collection"),value:"hide"},{label:(0,l.__)("Show (site tagline)","ekiline-block-collection"),value:"show"}],onChange:e=>{const l="show"===e;if(g({showTagline:l}),l&&!a.taglineText){const e=(0,n.select)("core").getEntityRecord("root","site"),l=e?.description||"";l&&g({taglineText:l})}},help:(0,l.__)("Shows the WordPress site tagline next to the brand.","ekiline-block-collection")}),a.showTagline&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.TextControl,{label:(0,l.__)("Custom tagline (override)","ekiline-block-collection"),value:a.taglineText||"",onChange:e=>g({taglineText:(e||"").toString()}),help:(0,l.__)("This only affects this navbar block. It does not change the site tagline.","ekiline-block-collection")}),(0,i.jsx)("div",{style:{display:"flex",gap:8},children:(0,i.jsx)(o.Button,{variant:"secondary",onClick:()=>{const e=(0,n.select)("core").getEntityRecord("root","site");g({taglineText:e?.description||""})},children:(0,l.__)("Reset to site tagline","ekiline-block-collection")})})]}),(0,i.jsx)(o.TextControl,{label:(0,l.__)("Target ID (for collapse/offcanvas)","ekiline-block-collection"),value:L,onChange:e=>{const l=(null!=e?e:"").toString().trim();if(!l)return void g({targetId:V()});const t=l.replace(/[^A-Za-z0-9_-]/g,"");g({targetId:t})},help:(0,l.__)("Must be unique. Leave empty to auto-generate.","ekiline-block-collection")})]}),(0,i.jsx)(o.PanelBody,{title:(0,l.__)("Status","ekiline-block-collection"),initialOpen:!0,children:(0,i.jsx)(o.Notice,{status:"info",isDismissible:!1,children:f?(0,l.__)('Editing mode: Use the List block to build your menu, then click "Save menu".',"ekiline-block-collection"):(0,l.__)("Preview mode: This is how your navigation will look. Use the toolbar to edit. Clicks are blocked.","ekiline-block-collection")})})]}),f?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"ekiline-navbar-setup-wrapper",children:[(0,i.jsxs)("div",{className:"components-placeholder__label",children:[p,(0,i.jsx)("label",{children:(0,l.__)("Navbar","ekiline-block-collection")})]}),(0,i.jsxs)("div",{class:"components-placeholder__instructions",children:[(0,l.__)("1. Create/edit your menu with Lista. You can nest sublists for dropdowns.","ekiline-block-collection"),(0,i.jsx)("br",{}),(0,l.__)("2. Customize the styles from the controls (color, font size, etc.).","ekiline-block-collection")]}),(0,i.jsx)(t.InnerBlocks,{allowedBlocks:k,templateLock:!1,template:v}),(0,i.jsx)(o.Button,{variant:"primary",onClick:D,children:(0,l.__)("Save menu","ekiline-block-collection")})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"ekiline-navbar-preview-wrapper",children:(0,i.jsx)("nav",{...B,children:(0,i.jsxs)(A,{className:I,children:["none"!==a.brandMode&&("logo"===a.brandMode||H)&&(0,i.jsxs)("div",{className:"navbar-brand",children:[("logo"===a.brandMode||"both"===a.brandMode)&&(a.brandLogoUrl?(()=>{const e=(0,i.jsx)("img",{src:a.brandLogoUrl,width:a.brandLogoWidth||void 0,height:a.brandLogoHeight||void 0,alt:m(a,E),className:"d-inline-block align-text-top",style:{verticalAlign:"middle",marginRight:H?8:0}});return a.brandLogoLinkHome&&a.brandHomeUrl?(0,i.jsx)("a",{href:a.brandHomeUrl,onClick:e=>e.preventDefault(),children:e}):e})():(0,i.jsx)("span",{className:"site-logo-placeholder",style:{display:"inline-block",width:28,height:28,borderRadius:"50%",background:"#ccc",verticalAlign:"middle",marginRight:H?8:0},"aria-hidden":"true"})),"text"!==a.brandMode&&"both"!==a.brandMode||!H?null:(0,i.jsx)("span",{children:H}),a.showTagline&&a.taglineText?(0,i.jsx)("span",{className:"navbar-text ms-2",children:a.taglineText}):null]}),(0,i.jsx)("button",{className:"navbar-toggler",type:"button","aria-label":"Toggle navigation","aria-expanded":"false",children:(0,i.jsx)("span",{className:"navbar-toggler-icon"})}),(0,i.jsx)("div",{className:"offcanvas"===_?"offcanvas offcanvas-end show":"collapse navbar-collapse show",children:y&&"[]"!==y?b(JSON.parse(y),0):(0,i.jsx)("ul",{className:"navbar-nav"})})]})})}),$&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"ekiline-navbar-code-wrapper",children:[(0,i.jsx)("p",{class:"components-placeholder__instructions",children:(0,l.__)("Showing saved menu data.","ekiline-block-collection")}),(0,i.jsx)("pre",{style:{whiteSpace:"pre-wrap",margin:0},children:y&&"[]"!==y?y:`(${(0,l.__)("No menu saved yet","ekiline-block-collection")})`})]})})]})]})},save:function({attributes:e}){const{menuHtml:l,menuJson:o,navStyle:n,navShow:a,navPosition:r,alignItems:s,container:c,brandText:g,targetId:h}=e,b=t.useBlockProps.save(),m=/\bhas-[\w-]+/.test(b?.className||""),u=!(!b?.style||!b.style.color&&!b.style.backgroundColor),p=!(m||u),v=[b?.className,"navbar",r||"",a||"",s||"",p?"bg-body-tertiary":""].filter(Boolean).join(" ").replace(/\s+/g," ").trim(),k=b?.style||void 0,x=c||"",f="offcanvas"===n?"offcanvas offcanvas-end":"collapse navbar-collapse",_=({className:e,children:l})=>e?(0,i.jsx)("div",{className:e,children:l}):(0,i.jsx)(i.Fragment,{children:l});return(0,i.jsx)("nav",{...b,className:v,style:k,children:(0,i.jsxs)(_,{className:x,children:["none"!==e.brandMode&&("logo"===e.brandMode||g)&&(0,i.jsxs)("div",{className:"navbar-brand",children:[("logo"===e.brandMode||"both"===e.brandMode)&&(e.brandLogoUrl?(()=>{const l=(0,i.jsx)("img",{src:e.brandLogoUrl,width:e.brandLogoWidth||void 0,height:e.brandLogoHeight||void 0,alt:e.brandLogoAlt||"Site logo",className:"d-inline-block align-text-top"});return e.brandLogoLinkHome&&e.brandHomeUrl?(0,i.jsx)("a",{href:e.brandHomeUrl,children:l}):l})():(0,i.jsx)("span",{className:"site-logo-placeholder","aria-hidden":"true"})),"text"!==e.brandMode&&"both"!==e.brandMode||!g?null:(0,i.jsx)("span",{children:g}),e.showTagline&&e.taglineText?(0,i.jsx)("span",{className:"navbar-text ms-2",children:e.taglineText}):null]}),(0,i.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas"===n?"offcanvas":"collapse","data-bs-target":`#${h||"ek-nav"}`,"aria-controls":h||"ek-nav","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,i.jsx)("span",{className:"navbar-toggler-icon"})}),(0,i.jsx)("div",{id:h||"ek-nav",className:f,children:o&&"[]"!==o?y(JSON.parse(o),0):l?(0,i.jsx)(d.RawHTML,{children:l}):(0,i.jsx)("ul",{className:"navbar-nav"})})]})})}})}},t={};function o(e){var n=t[e];if(void 0!==n)return n.exports;var a=t[e]={exports:{}};return l[e](a,a.exports,o),a.exports}o.m=l,e=[],o.O=(l,t,n,a)=>{if(!t){var i=1/0;for(d=0;d<e.length;d++){for(var[t,n,a]=e[d],r=!0,s=0;s<t.length;s++)(!1&a||i>=a)&&Object.keys(o.O).every(e=>o.O[e](t[s]))?t.splice(s--,1):(r=!1,a<i&&(i=a));if(r){e.splice(d--,1);var c=n();void 0!==c&&(l=c)}}return l}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[t,n,a]},o.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={311:0,3999:0};o.O.j=l=>0===e[l];var l=(l,t)=>{var n,a,[i,r,s]=t,c=0;if(i.some(l=>0!==e[l])){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(s)var d=s(o)}for(l&&l(t);c<i.length;c++)a=i[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},t=globalThis.webpackChunkekiline_block_collection=globalThis.webpackChunkekiline_block_collection||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})();var n=o.O(void 0,[3999],()=>o(2339));n=o.O(n)})();