(()=>{"use strict";var e,l={4934:()=>{const e=window.wp.blocks,l=window.wp.i18n,o=window.wp.blockEditor,t=window.wp.components,n=window.ReactJSXRuntime,c=["ekiline-block-collection/ekiline-carousel-slide"],a=[["ekiline-block-collection/ekiline-carousel-slide",{className:"active"}],["ekiline-block-collection/ekiline-carousel-slide"]];function i(){const e=(0,o.useBlockProps)({className:"carousel-manual"});return(0,n.jsxs)("div",{...e,children:[(0,n.jsx)("mark",{style:{fontStyle:"italic",marginBottom:"1rem",display:"block"},children:(0,l.__)("Add one or more slides. Each slide is a block group (image + text + button).","ekiline-block-collection")}),(0,n.jsx)(o.InnerBlocks,{orientation:"horizontal",allowedBlocks:c,template:a,templateLock:!1})]})}function s(){const e=o.useBlockProps.save({className:"carousel-manual carousel"});return(0,n.jsx)("div",{...e,children:(0,n.jsx)(o.InnerBlocks.Content,{})})}function r({attributes:e,setAttributes:c}){const{GalleryImages:a}=e,i=(0,o.useBlockProps)({className:"carousel-gallery"});return(0,n.jsxs)("div",{...i,children:[(0,n.jsx)(o.MediaUploadCheck,{children:(0,n.jsx)(o.MediaUpload,{onSelect:e=>{const l=e.map((e=>({id:e.id,url:e.url||e.source_url,alt:e.alt||""})));c({GalleryImages:l})},allowedTypes:["image"],multiple:!0,gallery:!0,value:a.map((e=>e.id)),render:({open:e})=>(0,n.jsx)(t.Button,{onClick:e,variant:"secondary",isSecondary:!0,children:a.length>0?(0,l.__)("Edit Gallery","ekiline-block-collection"):(0,l.__)("Select Images for Gallery","ekiline-block-collection")})})}),(0,n.jsx)("div",{className:"gallery-preview",children:a&&a.map(((e,l)=>(0,n.jsx)("img",{src:e.url,alt:e.alt,style:{maxWidth:"100px",margin:"5px"}},l)))})]})}function d({attributes:e}){const{GalleryImages:l}=e,t=o.useBlockProps.save({className:"carousel-gallery"});return(0,n.jsx)("div",{...t,children:(0,n.jsx)("div",{className:"carousel-inner",children:l&&l.map(((e,l)=>(0,n.jsx)("div",{className:"carousel-item"+(0===l?" active":""),children:(0,n.jsx)("img",{src:e.url,alt:e.alt,className:"d-block w-100"})},l)))})})}const u=window.wp.data,m=window.wp.element;function h({posts:e=[],controls:o=!0,indicators:t=!0}){return Array.isArray(e)&&0!==e.length?(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)("div",{className:"carousel-indicators",children:e.map(((e,l)=>(0,n.jsx)("button",{type:"button",className:0===l?"active":"","aria-current":0===l?"true":void 0,"aria-label":`Slide ${l+1}`,disabled:!0},l)))}),(0,n.jsx)("div",{className:"carousel-inner",children:e.map(((e,o)=>(0,n.jsxs)("div",{className:"carousel-item"+(0===o?" active":""),children:[e.featuredImage&&(0,n.jsx)("img",{src:e.featuredImage,alt:e.title,className:"d-block w-100"}),(0,n.jsxs)("div",{className:"carousel-caption",children:[(0,n.jsx)("h3",{dangerouslySetInnerHTML:{__html:e.title}}),(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:e.excerpt}}),(0,n.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:(0,l.__)("Read more","ekiline-block-collection")})]})]},e.id||o)))}),o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",{className:"carousel-control-prev",type:"button",disabled:!0,children:[(0,n.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,n.jsx)("span",{className:"visually-hidden",children:(0,l.__)("Previous","ekiline-block-collection")})]}),(0,n.jsxs)("button",{className:"carousel-control-next",type:"button",disabled:!0,children:[(0,n.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,n.jsx)("span",{className:"visually-hidden",children:(0,l.__)("Next","ekiline-block-collection")})]})]})]}):null}function v({attributes:e,setAttributes:l}){const{contentPostType:t="post",contentCategory:c="",contentPostsPerPage:a=6,contentOrder:i="desc",contentOrderBy:s="date",AddControls:r=!0,AddIndicators:d=!0}=e,v=(0,o.useBlockProps)({className:"carousel-content"}),b=(0,u.useSelect)((e=>e("core").getEntityRecords("postType",t,{per_page:a,order:i,orderby:s,categories:c?[c]:void 0,_embed:!0})),[t,c,a,i,s]),p=Array.isArray(b)&&b.length>0;return(0,m.useEffect)((()=>{if(!p||e.contentIsDynamic)return;const o=b.map((e=>({id:e.id,title:e.title?.rendered||"",excerpt:e.excerpt?.rendered||"",link:e.link||"",featuredImage:e._embedded?.["wp:featuredmedia"]?.[0]?.source_url||""})));l&&l({posts:o})}),[b,e.contentIsDynamic]),(0,n.jsx)("div",{...v,children:(0,n.jsx)(h,{posts:p?b.map((e=>({id:e.id,title:e.title?.rendered||"",excerpt:e.excerpt?.rendered||"",link:e.link||"",featuredImage:e._embedded?.["wp:featuredmedia"]?.[0]?.source_url||""}))):[],controls:r,indicators:d})})}function b({attributes:e}){const t=o.useBlockProps.save({className:"carousel-content"}),c=e.posts||[];return Array.isArray(c)&&0!==c.length?(0,n.jsx)("div",{...t,children:(0,n.jsx)(h,{posts:c,controls:e.AddControls,indicators:e.AddIndicators})}):(0,n.jsx)("div",{...t,children:(0,n.jsx)("p",{children:(0,l.__)("No posts available.","ekiline-block-collection")})})}const p=JSON.parse('{"UU":"ekiline-block-collection/ekiline-carousel"}'),k=Object.fromEntries([{name:"collectionIcon",d:"M18,0H2C0.9,0,0,0.9,0,2v16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V2C20,0.9,19.1,0,18,0z M16,10.69H8.27V8.66h5.7l0-0.79l-2.25-2.23l-5.7-0.02l-0.01,6.5l2.25,2.23l5.7,0.02l0-1.68H16v3.71l-8.57-0.04L4,12.97V3.59l8.57,0.04L16,7.03V10.69z"},{name:"accordionIcon",d:"M1,1V6.04H19V1H1ZM18.1,5.14H1.9V1.9H18.1v3.24Zm-2.8,12.51l1.44-1.17-1.44-1.17v2.34Zm-14.3,1.35H19v-5.04H1v5.04Zm.9-4.14H18.1v3.24H1.9v-3.24Zm-.9-2.34H19V7.48H1v5.04Zm16.19-3.24l-1.17,1.44-1.17-1.44h2.34Zm-1.89-6.93v2.34l1.44-1.17-1.44-1.17Z"},{name:"carouselIcon",d:"M10.51,15.06c.28-.28,.28-.74,0-1.02-.28-.28-.74-.28-1.02,0-.28,.28-.28,.74,0,1.02,.28,.28,.74,.28,1.02,0Zm1.93,0c.28-.28,.28-.74,0-1.02-.28-.28-.74-.28-1.02,0-.28,.28-.28,.74,0,1.02,.28,.28,.74,.28,1.02,0Zm2.96-6.23v2.34l1.44-1.17-1.44-1.17ZM1,2.8v14.4H19V2.8H1Zm16.92,13.32H2.08V3.88h15.84v12.24Zm-9.34-1.06c.28-.28,.28-.74,0-1.02-.28-.28-.74-.28-1.02,0-.28,.28-.28,.74,0,1.02,.28,.28,.74,.28,1.02,0Zm-3.98-6.23l-1.44,1.17,1.44,1.17v-2.34Z"},{name:"collapseIcon",d:"M15.55,11.31h-1.74v1.08h1.74v-1.08Zm-3.12,0h-1.74v1.08h1.74v-1.08ZM1,1V19H19V1H1Zm16.19,1.8l-1.17,1.44-1.17-1.44h2.34Zm.73,8.51h-.98v1.08h.98v5.53H2.08v-5.53h.97v-1.08h-.97V6.04h15.84v5.27Zm-11.74,0h-1.74v1.08h1.74v-1.08Zm3.12,0h-1.74v1.08h1.74v-1.08Z"},{name:"modalIcon",d:"M15.32,5.14l.64-.64,.64,.64,.76-.76-.64-.64,.63-.63-.76-.76-.63,.63-.63-.63-.76,.76,.63,.63-.64,.64,.76,.76Zm2.78-4.14H1.9c-.5,0-.9,.4-.9,.9V18.1c0,.5,.4,.9,.9,.9H18.1c.5,0,.9-.4,.9-.9V1.9c0-.5-.4-.9-.9-.9Zm-.18,16.92H2.08v-3.36h15.84v3.36Zm0-4.44H2.08V6.52h15.84v6.97Zm0-8.05H2.08V2.08h15.84v3.36Z"},{name:"navigationIcon",d:"M12.16,5.26l-.76-.76-3.56,3.56,.76,.76,3.56-3.56Zm-2.99,.57c.28-.28,.28-.74,0-1.02s-.74-.28-1.02,0c-.28,.28-.28,.74,0,1.02,.28,.28,.74,.28,1.02,0Zm1.65,1.65c-.28,.28-.28,.74,0,1.02s.74,.28,1.02,0c.28-.28,.28-.74,0-1.02-.28-.28-.74-.28-1.02,0Zm3.46,3.13H1v5.04H19v-5.04h-4.72Zm-7.16,4.14h-1.08v-3.24h1.08v3.24Zm2.47,0h-1.15v-3.24h1.15v3.24Zm3.38,0h-2.07v-3.24h2.07v3.24Zm5.13,0h-3.82v-3.24h3.82v3.24Z"},{name:"offcanvasIcon",d:"M9.46,12.43h1.08v-1.74h-1.08v1.74Zm0,3.12h1.08v-1.74h-1.08v1.74Zm0-6.25h1.08v-1.74h-1.08v1.74ZM13.42,1H1V19H19V1h-5.58Zm0,16.92h-2.88v-.98h-1.08v.98H2.08V2.08h7.38v.97h1.08v-.97h2.88v15.84Zm3.51-6.76l-1.44-1.17,1.44-1.17v2.34Zm-7.47-4.98h1.08v-1.74h-1.08v1.74Z"},{name:"popoverIcon",d:"M10.57,13.14l1.15-2.18h5.48c.99,0,1.8-.81,1.8-1.8V1.78c0-.99-.81-1.8-1.8-1.8H2.8c-.99,0-1.8,.81-1.8,1.8v7.38c0,.99,.81,1.8,1.8,1.8h5.48l1.15,2.18H1v4.88H19v-4.88H10.57Zm-1.33-2.68l-.3-.57H2.8c-.4,0-.72-.32-.72-.72V1.78c0-.4,.32-.72,.72-.72h14.4c.4,0,.72,.32,.72,.72v7.38c0,.4-.32,.72-.72,.72h-6.13l-.3,.57-.77,1.45-.77-1.45Z"},{name:"progressIcon",d:"M12.16,5.26l-.76-.76-3.56,3.56,.76,.76,3.56-3.56Zm-2.99,.57c.28-.28,.28-.74,0-1.02s-.74-.28-1.02,0c-.28,.28-.28,.74,0,1.02,.28,.28,.74,.28,1.02,0Zm1.65,1.65c-.28,.28-.28,.74,0,1.02s.74,.28,1.02,0c.28-.28,.28-.74,0-1.02-.28-.28-.74-.28-1.02,0Zm3.46,3.13H1v5.04H19v-5.04h-4.72Zm-7.16,4.14h-1.08v-3.24h1.08v3.24Zm2.47,0h-1.15v-3.24h1.15v3.24Zm3.38,0h-2.07v-3.24h2.07v3.24Zm5.13,0h-3.82v-3.24h3.82v3.24Z"},{name:"tabsIcon",d:"M10,1H1V19H19V1H10Zm-3.33,1.8l-1.17,1.44-1.17-1.44h2.34Zm11.25,15.12H2.08V6.04h15.84v11.88Zm0-13.23h-7.92V2.08h7.92v2.61Z"},{name:"toastIcon",d:"M5.35,3.63l-2.03,.3,.84,5.66,2.03-.3-.84-5.66Zm.73,6.69c-.48-.36-1.16-.26-1.51,.22s-.26,1.16,.22,1.51c.48,.36,1.16,.26,1.51-.22s.26-1.16-.22-1.51Zm12.93-1.1h-5.4V1H1V19H13.6v-2.22h5.4v-7.56Zm-6.48,8.7H2.08V2.08H12.52v7.14h-2.88c-.99,0-1.8,.81-1.8,1.8v3.96c0,.99,.81,1.8,1.8,1.8h2.88v1.14Zm-2.88-2.22c-.4,0-.72-.32-.72-.72v-3.96c0-.4,.32-.72,.72-.72h8.28v5.4H9.64Zm7.86-4.37l-.76-.76-.63,.63-.63-.63-.76,.76,.63,.63-.64,.64,.76,.76,.64-.64,.64,.64,.76-.76-.64-.64,.63-.63Z"}].map((({name:e,d:l})=>[e,(0,m.createElement)("svg",{width:20,height:20},(0,m.createElement)("path",{d:l}))]))),{collectionIcon:g,carouselIcon:x}=k;var _;_=g,(0,e.registerBlockCollection)("ekiline-block-collection",{title:"Ekiline Block Collection",icon:_}),(0,e.registerBlockType)(p.UU,{icon:x,edit:function({attributes:e,setAttributes:c}){const{ChooseType:a}=e;return e.anchor||c({anchor:"carousel"+Math.floor(140*Math.random()+10)}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.InspectorControls,{children:[(0,n.jsx)(t.PanelBody,{title:(0,l.__)("Carousel Type","ekiline-block-collection"),initialOpen:!1,children:(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Choose the carousel mode","ekiline-block-collection"),value:a,options:[{label:(0,l.__)("Manual (free design)","ekiline-block-collection"),value:"manual"},{label:(0,l.__)("Gallery","ekiline-block-collection"),value:"gallery"},{label:(0,l.__)("Content","ekiline-block-collection"),value:"content"}],onChange:e=>c({ChooseType:e})})}),"content"===a&&(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Content Query Settings","ekiline-block-collection"),initialOpen:!0,children:[(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Post type","ekiline-block-collection"),value:e.contentPostType,options:[{label:"Post",value:"post"},{label:"Page",value:"page"}],onChange:e=>c({contentPostType:e})}),"post"===e.contentPostType&&(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Category","ekiline-block-collection"),value:e.contentCategory,options:[{label:(0,l.__)("All categories","ekiline-block-collection"),value:""},...(0,u.useSelect)((e=>{const l=e("core").getEntityRecords("taxonomy","category",{per_page:-1});return l?l.map((e=>({label:e.name,value:e.id}))):[]}),[])],onChange:e=>c({contentCategory:e})}),(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Order by","ekiline-block-collection"),value:e.contentOrderBy,options:[{label:"Date",value:"date"},{label:"Title",value:"title"},{label:"Random",value:"rand"}],onChange:e=>c({contentOrderBy:e})}),(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Order","ekiline-block-collection"),value:e.contentOrder,options:[{label:"Descending",value:"desc"},{label:"Ascending",value:"asc"}],onChange:e=>c({contentOrder:e})}),(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Number of posts","ekiline-block-collection"),value:e.contentPostsPerPage,options:[3,6,9,12].map((e=>({label:String(e),value:e}))),onChange:e=>c({contentPostsPerPage:parseInt(e,10)})}),(0,n.jsx)(t.ToggleControl,{label:(0,l.__)("Use dynamic loading (PHP)","ekiline-block-collection"),checked:e.contentIsDynamic,onChange:e=>c({contentIsDynamic:e})})]}),(0,n.jsxs)(t.PanelBody,{title:(0,l.__)("Carousel Look","ekiline-block-collection"),initialOpen:!0,children:[(0,n.jsx)(t.ToggleControl,{label:(0,l.__)("Show controls","ekiline-block-collection"),checked:e.AddControls,onChange:e=>c({AddControls:e})}),(0,n.jsx)(t.ToggleControl,{label:(0,l.__)("Show indicators","ekiline-block-collection"),checked:e.AddIndicators,onChange:e=>c({AddIndicators:e})}),(0,n.jsx)(t.ToggleControl,{label:(0,l.__)("Auto Play","ekiline-block-collection"),checked:e.SetAuto,onChange:e=>c({SetAuto:e})}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Height in pixels, set -1 to see the full height of the screen on the device.","ekiline-block-collection"),type:"number",value:e.SetHeight,onChange:e=>c({SetHeight:parseInt(e)}),min:-1}),(0,n.jsx)(t.TextControl,{label:(0,l.__)("Transition in milliseconds","ekiline-block-collection"),type:"number",value:e.SetTime,onChange:e=>c({SetTime:parseInt(e)})}),(0,n.jsx)(t.SelectControl,{label:(0,l.__)("Animation type","ekiline-block-collection"),value:e.SetAnimation,options:[{label:(0,l.__)("Default","ekiline-block-collection"),value:""},{label:(0,l.__)("Fade","ekiline-block-collection"),value:"fade"},{label:(0,l.__)("Vertical","ekiline-block-collection"),value:"vertical"}],onChange:e=>c({SetAnimation:e})}),(0,n.jsx)(t.RangeControl,{label:(0,l.__)("Columns","ekiline-block-collection"),value:e.SetColumns,onChange:e=>c({SetColumns:parseInt(e)}),min:1,max:4})]})]}),(()=>{switch(a){case"manual":default:return(0,n.jsx)(i,{attributes:e,setAttributes:c});case"gallery":return(0,n.jsx)(r,{attributes:e,setAttributes:c});case"content":return(0,n.jsx)(v,{attributes:e,setAttributes:c})}})()]})},save:function({attributes:e}){const{ChooseType:l}=e;switch(l){case"manual":default:return(0,n.jsx)(s,{attributes:e});case"gallery":return(0,n.jsx)(d,{attributes:e});case"content":return(0,n.jsx)(b,{attributes:e})}}})}},o={};function t(e){var n=o[e];if(void 0!==n)return n.exports;var c=o[e]={exports:{}};return l[e](c,c.exports,t),c.exports}t.m=l,e=[],t.O=(l,o,n,c)=>{if(!o){var a=1/0;for(d=0;d<e.length;d++){for(var[o,n,c]=e[d],i=!0,s=0;s<o.length;s++)(!1&c||a>=c)&&Object.keys(t.O).every((e=>t.O[e](o[s])))?o.splice(s--,1):(i=!1,c<a&&(a=c));if(i){e.splice(d--,1);var r=n();void 0!==r&&(l=r)}}return l}c=c||0;for(var d=e.length;d>0&&e[d-1][2]>c;d--)e[d]=e[d-1];e[d]=[o,n,c]},t.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={1636:0,3612:0};t.O.j=l=>0===e[l];var l=(l,o)=>{var n,c,[a,i,s]=o,r=0;if(a.some((l=>0!==e[l]))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(s)var d=s(t)}for(l&&l(o);r<a.length;r++)c=a[r],t.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return t.O(d)},o=globalThis.webpackChunkekiline_block_collection=globalThis.webpackChunkekiline_block_collection||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))})();var n=t.O(void 0,[3612],(()=>t(4934)));n=t.O(n)})();