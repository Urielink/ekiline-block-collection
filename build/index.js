(()=>{"use strict";const e=window.wp.i18n,o=window.wp.components,t=window.wp.hooks,l=window.wp.element,n=window.wp.blockEditor,i=window.wp.compose,r=window.ReactJSXRuntime,s=["core/button","core/buttons"],a=(0,i.createHigherOrderComponent)(t=>i=>{const{attributes:a,setAttributes:c}=i,{dismissBsComponent:d}=a;return s.includes(i.name)?(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(t,{...i}),i.attributes.url&&(0,r.jsx)(n.InspectorControls,{children:(0,r.jsxs)(o.PanelBody,{title:(0,e.__)("Link to Block (Ekiline)","ekiline-block-collection"),initialOpen:!0,children:[(0,r.jsx)(o.TextControl,{label:(0,e.__)("Anchor block name","ekiline-block-collection"),value:i.attributes.anchorBsComponent,onChange:e=>i.setAttributes({anchorBsComponent:e})}),(0,r.jsx)(o.SelectControl,{label:(0,e.__)("Choose block","ekiline-block-collection"),value:a.selectBsComponent,options:[{label:(0,e.__)("None","ekiline-block-collection"),value:""},{label:(0,e.__)("Collapse","ekiline-block-collection"),value:"collapse"},{label:(0,e.__)("Modal","ekiline-block-collection"),value:"modal"},{label:(0,e.__)("Offcanvas","ekiline-block-collection"),value:"offcanvas"}],onChange:e=>c({selectBsComponent:e})}),(0,r.jsx)(o.ToggleControl,{label:(0,e.__)("Is close button?","ekiline-block-collection"),checked:!d,onChange:()=>c({dismissBsComponent:!d}),help:d?(0,e.__)("No.","ekiline-block-collection"):(0,e.__)("Yes.","ekiline-block-collection")})]})})]}):(0,r.jsx)(t,{...i})},"withAdvancedControlsBsButtonLink");(0,t.addFilter)("blocks.registerBlockType","ekilineBsButtonLinkData/dataAttribute",function(e){return s.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{anchorBsComponent:{type:"string",default:""},selectBsComponent:{type:"string",default:""},dismissBsComponent:{type:"boolean",default:!0}})),e}),(0,t.addFilter)("editor.BlockEdit","ekilineBsButtonLinkData/dataInput",a),(0,t.addFilter)("blocks.getSaveElement","ekilineBsButtonLinkData/dataModified",function(e,o,t){const{dismissBsComponent:n}=t;if(s.includes(o.name)){if(n&&t.anchorBsComponent&&t.selectBsComponent&&t.url)return(0,l.cloneElement)(e,{},(0,l.cloneElement)(e.props.children,{"data-bs-target":t.anchorBsComponent,"data-bs-toggle":t.selectBsComponent}));if(!n&&t.anchorBsComponent&&t.selectBsComponent&&t.url)return(0,l.cloneElement)(e,{},(0,l.cloneElement)(e.props.children,{"data-bs-dismiss":t.selectBsComponent}))}return e});const c=(0,i.createHigherOrderComponent)(e=>o=>{const{name:t,attributes:l,className:n}=o;if(s.includes(t)&&l.addDataLnkPopover&&l.url){const t="has-ekiline-popover-preview",l=n?`${n} ${t}`:t;return(0,r.jsx)(e,{...o,className:l})}return(0,r.jsx)(e,{...o})},"withButtonPopoverPreview");(0,t.addFilter)("editor.BlockListBlock","ekilineBsButtonLinkData/editorPreview",c);const d=["core/image"],u=(0,i.createHigherOrderComponent)(t=>i=>{const{attributes:s,setAttributes:a}=i,{dismissBsComponent:c}=s;return d.includes(i.name)?(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(t,{...i}),i.attributes.href&&(0,r.jsx)(n.InspectorControls,{children:(0,r.jsxs)(o.PanelBody,{title:(0,e.__)("Link to Ekiline Block","ekiline-block-collection"),initialOpen:!0,children:[(0,r.jsx)(o.TextControl,{label:(0,e.__)("Anchor block name","ekiline-block-collection"),value:i.attributes.anchorBsComponent,onChange:e=>i.setAttributes({anchorBsComponent:e})}),(0,r.jsx)(o.SelectControl,{label:(0,e.__)("Choose block","ekiline-block-collection"),value:s.selectBsComponent,options:[{label:(0,e.__)("None","ekiline-block-collection"),value:""},{label:(0,e.__)("Collapse","ekiline-block-collection"),value:"collapse"},{label:(0,e.__)("Modal","ekiline-block-collection"),value:"modal"},{label:(0,e.__)("Offcanvas","ekiline-block-collection"),value:"offcanvas"}],onChange:e=>a({selectBsComponent:e})}),(0,r.jsx)(o.ToggleControl,{label:(0,e.__)("Is close button?","ekiline-block-collection"),checked:!c,onChange:()=>a({dismissBsComponent:!c}),help:c?(0,e.__)("No.","ekiline-block-collection"):(0,e.__)("Yes.","ekiline-block-collection")})]})})]}):(0,r.jsx)(t,{...i})},"withAdvancedControlsBsImageLink");(0,t.addFilter)("blocks.registerBlockType","ekilineBsImageLinkData/dataAttribute",function(e){return d.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{anchorBsComponent:{type:"string",default:""},selectBsComponent:{type:"string",default:""},dismissBsComponent:{type:"boolean",default:!0}})),e}),(0,t.addFilter)("editor.BlockEdit","ekilineBsImageLinkData/dataInput",u),(0,t.addFilter)("blocks.getSaveElement","ekilineBsImageLinkData/dataModified",function(e,o,t){const{dismissBsComponent:n}=t;if(d.includes(o.name)){const o=t.anchorBsComponent,i=t.selectBsComponent,r=t.href,s=e?.props?.children?.props?.children?.[0];if("a"===s?.type){if(n&&o&&i&&r)return(0,l.cloneElement)(e,{},(0,l.cloneElement)(s,{"data-bs-target":o,"data-bs-toggle":i}));if(!n&&o&&i&&r)return(0,l.cloneElement)(e,{},(0,l.cloneElement)(s,{"data-bs-dismiss":i}))}}return e});const b=["core/button","core/buttons"],k=(0,i.createHigherOrderComponent)(t=>i=>b.includes(i.name)?(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(t,{...i}),i.attributes.url&&(0,r.jsx)(n.InspectorControls,{children:(0,r.jsxs)(o.PanelBody,{title:(0,e.__)("Button to Popover (Ekiline)","ekiline-block-collection"),initialOpen:!0,children:[(0,r.jsx)(o.TextControl,{label:(0,e.__)("Popover text to show.","ekiline-block-collection"),value:i.attributes.addDataLnkPopover,onChange:e=>i.setAttributes({addDataLnkPopover:e})}),(0,r.jsx)(o.SelectControl,{label:(0,e.__)("Popover position","ekiline-block-collection"),value:i.attributes.addPositionLnkPopover,options:[{label:(0,e.__)("Auto","ekiline-block-collection"),value:"auto"},{label:(0,e.__)("Top","ekiline-block-collection"),value:"top"},{label:(0,e.__)("Right","ekiline-block-collection"),value:"right"},{label:(0,e.__)("Bottom","ekiline-block-collection"),value:"bottom"},{label:(0,e.__)("Left","ekiline-block-collection"),value:"left"}],onChange:e=>i.setAttributes({addPositionLnkPopover:e})}),(0,r.jsx)(o.ToggleControl,{label:(0,e.__)("Is tooltip","ekiline-block-collection"),checked:i.attributes.defineTooltip,onChange:e=>i.setAttributes({defineTooltip:e})})]})})]}):(0,r.jsx)(t,{...i}),"withAdvancedControlsBtnCollapse");(0,t.addFilter)("blocks.registerBlockType","ekilineLnkPopoverData/dataAttribute",function(e){return b.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{addDataLnkPopover:{type:"string",default:""},addPositionLnkPopover:{type:"string",default:"auto"},defineTooltip:{type:"boolean",default:!1}})),e}),(0,t.addFilter)("editor.BlockEdit","ekilineLnkPopoverData/dataInput",k),(0,t.addFilter)("blocks.getSaveElement","ekilineLnkPopoverData/dataModified",function(e,o,t){if(!b.includes(o.name))return e;const{addDataLnkPopover:n,addPositionLnkPopover:i,defineTooltip:r,url:s,text:a}=t;return n&&s&&a?.text?(0,l.cloneElement)(e,{},(0,l.cloneElement)(e.props.children,{"data-bs-content":n,"data-bs-toggle":r?"tooltip":"popover","data-bs-placement":i,title:r?n:a.text})):e});const p=window.wp.data,m=["top","right","bottom","left"],h=e=>null!=e&&""!==e,C=e=>e.charAt(0).toUpperCase()+e.slice(1),g={color:"#f9f9f9",style:"solid",width:"1px"},f=".375rem",B=(e={},o=g)=>({color:h(e.color)?e.color:o.color,style:h(e.style)?e.style:o.style,width:h(e.width)?e.width:o.width}),v=e=>!!e&&"object"==typeof e&&m.some(o=>e?.[o]),_=(e,o=g)=>{if(!e||"object"!=typeof e)return{...o};if(v(e)){const t=m.reduce((t,l)=>{const n=e[l];return n?{...t,[l]:B(n,o)}:t},{});return Object.keys(t).length?t:{...o}}return B(e,o)},x=(e,o=g)=>{const t=B(e,o);return`${t.width} ${t.style} ${t.color}`},w=(e,o=g)=>{if(v(e)){const t=m.reduce((t,l)=>{const n=e[l];return n?{...t,[`border${C(l)}`]:x(n,o)}:t},{});return Object.keys(t).length?t:{border:x(o,o)}}return e?{border:x(e,o)}:{border:x(o,o)}},j=(e,o=!0,t=f)=>h(e)?e:o?void 0:t,y=(e,o=f)=>j(e,!1,o),P=({value:e,onChange:t,defaultBorder:l,withThemeColors:n=!0,colors:i,disableCustomColors:s,enableAlpha:a,...c})=>{const{themeColors:d,themeDisableCustomColors:u}=(0,p.useSelect)(e=>{if(!n)return{themeColors:void 0,themeDisableCustomColors:void 0};const o=e("core/block-editor").getSettings?.()||{};return{themeColors:o.colors||[],themeDisableCustomColors:o.disableCustomColors}},[n]),b=null!=i?i:d,k=void 0!==s?s:u,m=void 0!==a?a:!k,h=_(e,l);return(0,r.jsx)(o.BorderBoxControl,{value:h,onChange:e=>{if("function"!=typeof t)return;const o=_(e,l);t(o)},colors:b,disableCustomColors:k,enableAlpha:m,...c})},L=[{value:"px",label:"px",default:6},{value:"em",label:"em"},{value:"rem",label:"rem"},{value:"%",label:"%"}],E=({value:t,onChange:l,label:n=(0,e.__)("Border radius","ekiline-block-collection"),units:i=L,allowEmpty:s=!0,defaultRadius:a=f,...c})=>{const d={label:n,value:y(t,a),onChange:e=>{if("function"!=typeof l)return;const o=j(e,s,a);l(o)},units:i,...c};return void 0===d.isResetValueOnUnitChange&&(d.isResetValueOnUnitChange=!1),(0,r.jsx)(o.__experimentalUnitControl,{...d})},O=["ekiline-block-collection/ekiline-accordion","ekiline-block-collection/ekiline-toast-item","ekiline-block-collection/ekiline-offcanvas","ekiline-block-collection/ekiline-modal","ekiline-block-collection/ekiline-modal-header","ekiline-block-collection/ekiline-modal-body","ekiline-block-collection/ekiline-modal-footer","ekiline-block-collection/ekiline-collapse","ekiline-block-collection/ekiline-progress","ekiline-block-collection/ekiline-progress-item"],A=e=>O.includes(e);(0,t.addFilter)("blocks.registerBlockType","ekiline/border-attributes",function(e,o){if(!A(o))return e;const t={...e};return t.attributes=t.attributes||{},t.attributes.border||(t.attributes.border={type:"object",default:{...g}}),t.attributes.borderRadius||(t.attributes.borderRadius={type:"string",default:f}),t.supports=t.supports||{},t.supports.border=t.supports.border||{color:!0,radius:!0,style:!0,width:!0},t});const D=(0,i.createHigherOrderComponent)(t=>l=>{const{name:i,attributes:s,setAttributes:a}=l;if(!A(i))return(0,r.jsx)(t,{...l});const{border:c,borderRadius:d}=s,u=_(c);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{...l}),(0,r.jsx)(n.InspectorControls,{group:"styles",children:(0,r.jsxs)(o.PanelBody,{title:(0,e.__)("Border","ekiline-block-collection"),initialOpen:!0,children:[(0,r.jsx)(P,{label:(0,e.__)("Border","ekiline-block-collection"),value:u,onChange:e=>{const o=_(e);JSON.stringify(o)!==JSON.stringify(c)&&a({border:o})},__experimentalIsRenderedInSidebar:!0}),(0,r.jsx)(E,{value:d,onChange:e=>{const o=j(e,!0,f);o!==d&&a({borderRadius:o})}})]})})]})},"withBorderControls");(0,t.addFilter)("editor.BlockEdit","ekiline/with-border-controls",D);const F=(0,i.createHigherOrderComponent)(e=>o=>{const{name:t,attributes:l,wrapperProps:n={}}=o;if(!A(t))return(0,r.jsx)(e,{...o});const{border:i,borderRadius:s}=l,a=_(i),c=w(a),d=y(s,f),u={...n,style:{...n.style||{},...c,borderRadius:d}};return(0,r.jsx)(e,{...o,wrapperProps:u})},"withBorderWrapperStyles");(0,t.addFilter)("editor.BlockListBlock","ekiline/with-border-wrapper-styles",F),(0,t.addFilter)("blocks.getSaveContent.extraProps","ekiline/border-save-props",function(e,o,t){if(!A(o.name))return e;const{border:l,borderRadius:n}=t,i=_(l),r=w(i),s=y(n,f);return{...e,style:{...e.style||{},...r,borderRadius:s}}})})();