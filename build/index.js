(()=>{"use strict";const e=window.wp.blocks,t=window.wp.element,o=window.wp.i18n,n=window.wp.blockEditor;(0,e.registerBlockType)("ekiline-collection/ekiline-collection",{edit:function(){return(0,t.createElement)("p",(0,n.useBlockProps)(),(0,o.__)("Ekiline Block Collection – hello from the editor!","ekiline-collection"))},save:function(){return(0,t.createElement)("p",n.useBlockProps.save(),(0,o.__)("Ekiline Block Collection – hello from the saved content!","ekiline-collection"))}});const l=window.wp.components;(0,e.registerBlockType)("ekiline-blocks/ekiline-accordion",{apiVersion:2,title:(0,o.__)("Ekiline Accordion, full control","ekiline-accordion"),icon:"menu-alt",description:(0,o.__)("Show your content as an accordion.","ekiline-accordion"),category:"design",supports:{anchor:!0},attributes:{noStyle:{type:"boolean",default:!1}},providesContext:{"ekiline-accordion/anchor":"anchor"},edit:e=>{const{attributes:a,setAttributes:i}=e,r=(0,n.useBlockProps)({className:"group-accordion"});return a.anchor||i({anchor:"accordion"+(10,150,Math.floor(140*Math.random()+10))}),(0,t.createElement)("div",r,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,o.__)("Accordion Settings","ekiline-accordion"),initialOpen:!0},(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Clear style.","ekiline-accordion"),checked:a.noStyle,onChange:e=>i({noStyle:e})}))),(0,t.createElement)(n.InnerBlocks,{allowedBlocks:["ekiline-blocks/ekiline-accordion-item"],template:[["ekiline-blocks/ekiline-accordion-item"],["ekiline-blocks/ekiline-accordion-item"],["ekiline-blocks/ekiline-accordion-item"]]}))},save:e=>{let{attributes:o}=e;const l=n.useBlockProps.save({className:o.noStyle?"accordion accordion-flush":"accordion"});return(0,t.createElement)("div",l,(0,t.createElement)(n.InnerBlocks.Content,null))}}),(0,e.registerBlockType)("ekiline-blocks/ekiline-accordion-item",{title:(0,o.__)("Accordion item","ekiline-accordion"),parent:["ekiline-blocks/ekiline-accordion"],icon:"menu-alt",description:(0,o.__)("Set tittle and content in your accordion container","ekiline-accordion"),category:"design",usesContext:["ekiline-accordion/anchor"],supports:{anchor:!0,html:!1,reusable:!1},attributes:{showDefault:{type:"boolean",default:!1},keepOpen:{type:"boolean",default:!0},parentId:{type:"string",default:""},content:{type:"string",source:"html",selector:"button",default:(0,o.__)("Item title.","ekiline-accordion")}},edit:e=>{const{attributes:a,setAttributes:i}=e,r=[["core/paragraph",{content:(0,o.__)("Item content.","ekiline-accordion")}]],s=(0,n.useBlockProps)({className:"child-item-accordion"});return a.anchor||i({anchor:"accordionChild"+(10,150,Math.floor(140*Math.random()+10))}),a.parentId&&a.parentId===e.context["ekiline-accordion/anchor"]||i({parentId:e.context["ekiline-accordion/anchor"]}),(0,t.createElement)("div",s,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,o.__)("Accordion Item Params","ekiline-accordion"),initialOpen:!0},(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Show element by default.","ekiline-accordion"),checked:a.showDefault,onChange:e=>i({showDefault:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Toggle.","ekiline-accordion"),checked:a.keepOpen,onChange:e=>i({keepOpen:e}),help:(0,o.__)("Close previously active accordion elements.","ekiline-accordion")}))),(0,t.createElement)(n.RichText,{withoutInteractiveFormatting:!0,allowedFormats:["core/bold","core/italic","core/image","core/align"],tagName:"p",className:"item-title",value:a.content,onChange:e=>i({content:e}),placeholder:(0,o.__)("Accordion Title","ekiline-accordion")}),(0,t.createElement)(n.InnerBlocks,{template:r}))},save:e=>{let{attributes:o}=e;const l=n.useBlockProps.save({className:"accordion-item"}),a=n.useBlockProps.save({headingId:l.id?"heading"+l.id:null,itemId:l.id?"item"+l.id:null,itemClassName:o.showDefault?"accordion-collapse collapse show":"accordion-collapse collapse"});return(0,t.createElement)("div",l,(0,t.createElement)("h2",{class:"accordion-header",id:a.headingId},(0,t.createElement)(n.RichText.Content,{tagName:"button",className:"accordion-button",type:"button",value:o.content,"data-bs-toggle":"collapse","data-bs-target":a.itemId?"#"+a.itemId:null})),(0,t.createElement)("div",{id:a.itemId,className:a.itemClassName,"data-bs-parent":o.keepOpen&&o.parentId?"#"+o.parentId:null},(0,t.createElement)(n.InnerBlocks.Content,null)))}});const a=window.wp.hooks,i=window.wp.compose;(0,e.registerBlockType)("ekiline-blocks/ekiline-collapse",{apiVersion:2,title:(0,o.__)("Collapse, full control","ekiline-collapse"),icon:"arrow-down",description:(0,o.__)("Set a collapse behavior block. You can activate from any button.","ekiline-collapse"),category:"design",supports:{anchor:!0},attributes:{horizontal:{type:"boolean",default:!1}},edit:e=>{const{attributes:a,setAttributes:i}=e,r=[["core/paragraph",{content:(0,o.__)("Add your content","ekiline-collapse")}]],s=(0,n.useBlockProps)({className:"group-collapse"});return(0,t.createElement)("div",s,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,o.__)("Collapse Params","ekiline-collapse"),initialOpen:!0},(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Horizontal collapse","ekiline-collapse"),checked:a.horizontal,onChange:e=>i({horizontal:e})}))),(0,t.createElement)(n.InnerBlocks,{template:r}),(0,t.createElement)((function(){return a.anchor?(0,t.createElement)("div",{class:"editor-collapse-route has-anchor"},(0,t.createElement)("pre",null,"#"+a.anchor,(0,t.createElement)("br",null),(0,o.__)("Add this #anchor to a button and its advanced options.","ekiline-collapse"))):(0,t.createElement)("div",{class:"editor-collapse-route"},(0,o.__)("Do not forget to add an anchor. ","ekiline-collapse"))}),null))},save:e=>{let{attributes:o}=e;const l=n.useBlockProps.save({className:"collapse"+(o.horizontal?" collapse-horizontal":""),style:{"min-height":o.horizontal?"120px":null},contentStyle:{"min-width":o.horizontal?"300px":null}});return(0,t.createElement)("div",l,(0,t.createElement)((function(){return o.horizontal?(0,t.createElement)("div",{style:o.horizontal?l.contentStyle:null},(0,t.createElement)(n.InnerBlocks.Content,null)):(0,t.createElement)(n.InnerBlocks.Content,null)}),null))}});const r=["core/button","core/buttons"],s=(0,i.createHigherOrderComponent)((e=>a=>r.includes(a.name)?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,a),a.attributes.url&&(0,t.createElement)(n.InspectorAdvancedControls,null,(0,t.createElement)(l.TextControl,{label:(0,o.__)("Collapse anchor for execute it.","ekiline-collapse"),value:a.attributes.addDataBtnCollapse,onChange:e=>a.setAttributes({addDataBtnCollapse:e})}))):(0,t.createElement)(e,a)),"withAdvancedControlsBtnCollapse");(0,a.addFilter)("blocks.registerBlockType","ekilineCollapseBtnData/dataAttribute",(function(e){return r.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{addDataBtnCollapse:{type:"string",default:""}})),e})),(0,a.addFilter)("editor.BlockEdit","ekilineCollapseBtnData/dataInput",s),(0,a.addFilter)("blocks.getSaveElement","ekilineCollapseBtnData/dataModified",(function(e,t,o){return r.includes(t.name)&&o.addDataBtnCollapse&&o.url?wp.element.cloneElement(e,{},wp.element.cloneElement(e.props.children,{"data-bs-target":o.addDataBtnCollapse,"data-bs-toggle":"collapse"})):e})),(0,e.registerBlockType)("ekiline-blocks/ekiline-popovers",{apiVersion:2,title:(0,o.__)("Pop overs, full control","ekiline-collapse"),icon:"admin-comments",description:(0,o.__)("Add popovers to your links or buttons.","ekiline-collapse"),category:"design",edit:function(){return(0,t.createElement)("p",(0,n.useBlockProps)(),(0,o.__)("Popovers have rules added to the core buttons.","ekiline-popovers"),(0,o.__)("You need to create a button. And then text an anchor (#name) link.","ekiline-popovers"),(0,o.__)("This will allow you to use the advanced options for the button.","ekiline-popovers"),(0,o.__)("You can remove this notice, it won't be published in your content.","ekiline-popovers"))},save:function(){return(0,t.createElement)(t.Fragment,null)}});const c=["core/button","core/buttons"],p=(0,i.createHigherOrderComponent)((e=>a=>c.includes(a.name)?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,a),a.attributes.url&&(0,t.createElement)(n.InspectorAdvancedControls,null,(0,t.createElement)(l.TextControl,{label:(0,o.__)("Popover text to show.","ekiline-popovers"),value:a.attributes.addDataLnkPopover,onChange:e=>a.setAttributes({addDataLnkPopover:e})}),(0,t.createElement)(l.SelectControl,{label:(0,o.__)("Popover  position","ekiline-popovers"),value:a.attributes.addPositionLnkPopover,options:[{label:(0,o.__)("Popover position","ekiline-popovers"),value:"auto"},{label:(0,o.__)("Top","ekiline-popovers"),value:"top"},{label:(0,o.__)("Right","ekiline-popovers"),value:"right"},{label:(0,o.__)("Bottom","ekiline-popovers"),value:"bottom"},{label:(0,o.__)("Left","ekiline-popovers"),value:"left"}],onChange:e=>a.setAttributes({addPositionLnkPopover:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Is tooltip","ekiline-popovers"),checked:a.attributes.defineTooltip,onChange:e=>a.setAttributes({defineTooltip:e})}))):(0,t.createElement)(e,a)),"withAdvancedControlsBtnCollapse");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},d.apply(this,arguments)}(0,a.addFilter)("blocks.registerBlockType","ekilineLnkPopoverData/dataAttribute",(function(e){return c.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{addDataLnkPopover:{type:"string",default:""},addPositionLnkPopover:{type:"string",default:"auto"},defineTooltip:{type:"boolean",default:!1}})),e})),(0,a.addFilter)("editor.BlockEdit","ekilineLnkPopoverData/dataInput",p),(0,a.addFilter)("blocks.getSaveElement","ekilineLnkPopoverData/dataModified",(function(e,t,o){return c.includes(t.name)&&o.addDataLnkPopover&&o.url?wp.element.cloneElement(e,{},wp.element.cloneElement(e.props.children,{"data-bs-content":o.addDataLnkPopover,"data-bs-toggle":o.defineTooltip?"tooltip":"popover","data-bs-placement":o.addPositionLnkPopover,title:o.text})):e})),(0,e.registerBlockType)("ekiline-blocks/ekiline-progress",{apiVersion:2,title:(0,o.__)("Ekiline progress, full control","ekiline-progress"),icon:"ellipsis",description:(0,o.__)("Show a bootstrap progress bar for your data.","ekiline-progress"),category:"design",supports:{anchor:!0,color:{background:!0,gradients:!0,text:!1}},attributes:{progHeight:{type:"number",default:50}},edit:e=>{const{attributes:a,setAttributes:i}=e,r=(0,n.useBlockProps)({className:"group-progress",style:{height:a.progHeight+22+"px"}});return(0,t.createElement)("div",r,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,o.__)("Progress bar Settings","ekiline-progress"),initialOpen:!0},(0,t.createElement)(l.TextControl,{label:(0,o.__)("Height bar (pixels)","ekiline-progress"),type:"number",value:a.progHeight,onChange:e=>i({progHeight:parseInt(e&&"0"!==e?e:1)}),min:"1"}))),(0,t.createElement)(n.InnerBlocks,{orientation:"horizontal",allowedBlocks:["ekiline-blocks/ekiline-progress-item"],template:[["ekiline-blocks/ekiline-progress-item"]]}))},save:e=>{let{attributes:o}=e;const l=n.useBlockProps.save({className:"progress",style:{height:o.progHeight+"px"}});return(0,t.createElement)("div",l,(0,t.createElement)(n.InnerBlocks.Content,null))}}),(0,e.registerBlockType)("ekiline-blocks/ekiline-progress-item",{title:(0,o.__)("Progress data bar","ekiline-progress"),parent:["ekiline-blocks/ekiline-progress"],icon:"ellipsis",description:(0,o.__)("Progress data, could be multiple bars between 1 to 100.","ekiline-progress"),category:"design",supports:{anchor:!1,color:{background:!0,gradients:!0,text:!0}},attributes:{progRange:{type:"number",default:10},progLabel:{type:"boolean",default:!1},progStripes:{type:"boolean",default:!1},progAnimation:{type:"boolean",default:!1}},edit:e=>{const{attributes:a,setAttributes:i}=e,r=(0,n.useBlockProps)({className:"item-progress progress-bar"+(a.progAnimation?" progress-bar-animated":"")+(a.progStripes?" progress-bar-striped":"")});return(0,t.createElement)("div",r,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,o.__)("Progress bar Settings","ekiline-progress"),initialOpen:!0},(0,t.createElement)(l.TextControl,{label:(0,o.__)("Data range min 1% max 100%","ekiline-progress"),type:"number",value:a.progRange,onChange:e=>i({progRange:parseInt(e&&"0"!==e?e:1)}),min:"1",max:"100"}),(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Hide number in bar.","ekiline-progress"),checked:a.progLabel,onChange:e=>i({progLabel:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Show stripes over background.","ekiline-progress"),checked:a.progStripes,onChange:e=>i({progStripes:e})}),(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Show animation.","ekiline-progress"),checked:a.progAnimation,onChange:e=>i({progAnimation:e})}))),(0,t.createElement)("p",null,a.progRange))},save:e=>{let{attributes:o}=e;const l=n.useBlockProps.save({className:"progress-bar"+(o.progAnimation?" progress-bar-animated":"")+(o.progStripes?" progress-bar-striped":""),style:{width:o.progRange+"%"}});return(0,t.createElement)("div",l,o.progLabel?null:o.progRange)}});const u=(0,i.createHigherOrderComponent)((e=>o=>{if("ekiline-blocks/ekiline-progress-item"===o.name){const n={...o.wrapperProps,style:{width:o.attributes.progRange+"%"}};return(0,t.createElement)(e,d({},o,{wrapperProps:n}))}return(0,t.createElement)(e,o)}),"newWrapperAtts");(0,a.addFilter)("editor.BlockListBlock","ekiline-blocks/ekiline-progress-item",u),(0,e.registerBlockType)("ekiline-blocks/ekiline-toast",{apiVersion:2,title:(0,o.__)("Ekiline toast, full control","ekiline-toast"),icon:"lightbulb",description:(0,o.__)("Show small bootstrap-style notices.","ekiline-toast"),category:"design",supports:{anchor:!0,html:!1},attributes:{toastPosition:{type:"string",default:" bottom-0 end-0"}},edit:e=>{const{attributes:a,setAttributes:i}=e,r=(0,n.useBlockProps)({className:"group-toast"});return(0,t.createElement)("div",r,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,o.__)("Toast group options","ekiline-toast"),initialOpen:!0},(0,t.createElement)(l.SelectControl,{label:(0,o.__)("Display position","ekiline-toast"),value:a.toastPosition,options:[{label:(0,o.__)("Bottom right","ekiline-toast"),value:" bottom-0 end-0"},{label:(0,o.__)("Bottom left","ekiline-toast"),value:" bottom-0 start-0"},{label:(0,o.__)("Top right","ekiline-toast"),value:" top-0 end-0"},{label:(0,o.__)("Top left","ekiline-toast"),value:" top-0 start-0"}],onChange:e=>i({toastPosition:e})}))),(0,t.createElement)(n.InnerBlocks,{allowedBlocks:["ekiline-blocks/ekiline-toast-item"],template:[["ekiline-blocks/ekiline-toast-item",{lock:{remove:!1,move:!0}}]]}))},save:e=>{let{attributes:o}=e;const l=n.useBlockProps.save({className:"toast-container position-fixed p-md-1 p-md-3"+o.toastPosition});return(0,t.createElement)("div",l,(0,t.createElement)(n.InnerBlocks.Content,null))}}),(0,e.registerBlockType)("ekiline-blocks/ekiline-toast-item",{title:(0,o.__)("Ekiline toast item.","ekiline-toast"),parent:["ekiline-blocks/ekiline-toast"],icon:"lightbulb",description:(0,o.__)("Each toast can be executed by time, at the end of scrolling, or with the cursor outside the window. You can stack as many as you need.","ekiline-toast"),category:"design",supports:{anchor:!0,html:!1,multiple:!1,reusable:!0},attributes:{content:{type:"string",source:"html",selector:"p"},toastTime:{type:"number",default:0},toastScroll:{type:"boolean",default:!1}},edit:e=>{const{attributes:a,setAttributes:i}=e,r=(0,n.useBlockProps)({className:"toast-item"}),s=[["core/paragraph",{content:(0,o.__)("Add toast content.","ekiline-modal")}]];return(0,t.createElement)("div",r,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,o.__)("Toast Params","ekiline-toast"),initialOpen:!0},(0,t.createElement)(l.TextControl,{label:(0,o.__)("Run by time","ekiline-toast"),type:"number",value:a.toastTime,onChange:e=>i({toastTime:parseInt(e)}),help:a.toastTime>0?(0,o.__)('Run after page load "'+a.toastTime+'" milliseconds.',"ekiline-toast"):(0,o.__)('"'+a.toastTime+'" run immediately on page load.',"ekiline-toast")}),(0,t.createElement)(l.ToggleControl,{label:(0,o.__)("Run at end of page scroll.","ekiline-toast"),checked:a.toastScroll,onChange:e=>i({toastScroll:e})}))),(0,t.createElement)(n.RichText,{tagName:"p",value:a.content,allowedFormats:["core/bold","core/italic"],onChange:e=>i({content:e}),placeholder:(0,o.__)("Add toast title","ekiline-toast"),className:"item-title"}),(0,t.createElement)(n.InnerBlocks,{template:s}))},save:e=>{let{attributes:o}=e;const l=n.useBlockProps.save({className:"toast-item toast"+(o.toastScroll?" launch-scroll hide":"")+(0!==o.toastTime?" launch-time hide":""),"data-ek-launch-time":o.toastTime||null});return(0,t.createElement)("div",l,(0,t.createElement)("div",{class:"toast-header"},(0,t.createElement)("p",{class:"me-auto my-0"},o.content),(0,t.createElement)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})),(0,t.createElement)("div",{class:"toast-body"},(0,t.createElement)(n.InnerBlocks.Content,null)))}}),(0,e.registerBlockCollection)("ekiline-blocks",{title:"Ekiline Blocks",icon:"layout"})})();