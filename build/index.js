(()=>{"use strict";const e=window.wp.i18n,t=window.wp.components,o=window.wp.hooks,n=window.wp.element,l=window.wp.blockEditor,i=window.wp.compose,s=window.ReactJSXRuntime,a=["core/button","core/buttons"],c=(0,i.createHigherOrderComponent)((o=>i=>{const{attributes:c,setAttributes:r}=i,{dismissBsComponent:d}=c;return a.includes(i.name)?(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o,{...i}),i.attributes.url&&(0,s.jsx)(l.InspectorControls,{children:(0,s.jsxs)(t.PanelBody,{title:(0,e.__)("Link to Block (Ekiline)","ekiline-block-collection"),initialOpen:!0,children:[(0,s.jsx)(t.TextControl,{label:(0,e.__)("Anchor block name","ekiline-block-collection"),value:i.attributes.anchorBsComponent,onChange:e=>i.setAttributes({anchorBsComponent:e})}),(0,s.jsx)(t.SelectControl,{label:(0,e.__)("Choose block","ekiline-block-collection"),value:c.selectBsComponent,options:[{label:(0,e.__)("None","ekiline-block-collection"),value:""},{label:(0,e.__)("Collapse","ekiline-block-collection"),value:"collapse"},{label:(0,e.__)("Modal","ekiline-block-collection"),value:"modal"},{label:(0,e.__)("Offcanvas","ekiline-block-collection"),value:"offcanvas"}],onChange:e=>r({selectBsComponent:e})}),(0,s.jsx)(t.ToggleControl,{label:(0,e.__)("Is close button?","ekiline-block-collection"),checked:!d,onChange:()=>r({dismissBsComponent:!d}),help:d?(0,e.__)("No.","ekiline-block-collection"):(0,e.__)("Yes.","ekiline-block-collection")})]})})]}):(0,s.jsx)(o,{...i})}),"withAdvancedControlsBsButtonLink");(0,o.addFilter)("blocks.registerBlockType","ekilineBsButtonLinkData/dataAttribute",(function(e){return a.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{anchorBsComponent:{type:"string",default:""},selectBsComponent:{type:"string",default:""},dismissBsComponent:{type:"boolean",default:!0}})),e})),(0,o.addFilter)("editor.BlockEdit","ekilineBsButtonLinkData/dataInput",c),(0,o.addFilter)("blocks.getSaveElement","ekilineBsButtonLinkData/dataModified",(function(e,t,o){const{dismissBsComponent:l}=o;if(a.includes(t.name)){if(l&&o.anchorBsComponent&&o.selectBsComponent&&o.url)return(0,n.cloneElement)(e,{},(0,n.cloneElement)(e.props.children,{"data-bs-target":o.anchorBsComponent,"data-bs-toggle":o.selectBsComponent}));if(!l&&o.anchorBsComponent&&o.selectBsComponent&&o.url)return(0,n.cloneElement)(e,{},(0,n.cloneElement)(e.props.children,{"data-bs-dismiss":o.selectBsComponent}))}return e}));const r=(0,i.createHigherOrderComponent)((e=>t=>{const{name:o,attributes:n,className:l}=t;if(a.includes(o)&&n.addDataLnkPopover&&n.url){const o="has-ekiline-popover-preview",n=l?`${l} ${o}`:o;return(0,s.jsx)(e,{...t,className:n})}return(0,s.jsx)(e,{...t})}),"withButtonPopoverPreview");(0,o.addFilter)("editor.BlockListBlock","ekilineBsButtonLinkData/editorPreview",r);const d=["core/image"],k=(0,i.createHigherOrderComponent)((o=>i=>{const{attributes:a,setAttributes:c}=i,{dismissBsComponent:r}=a;return d.includes(i.name)?(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o,{...i}),i.attributes.href&&(0,s.jsx)(l.InspectorControls,{children:(0,s.jsxs)(t.PanelBody,{title:(0,e.__)("Link to Ekiline Block","ekiline-block-collection"),initialOpen:!0,children:[(0,s.jsx)(t.TextControl,{label:(0,e.__)("Anchor block name","ekiline-block-collection"),value:i.attributes.anchorBsComponent,onChange:e=>i.setAttributes({anchorBsComponent:e})}),(0,s.jsx)(t.SelectControl,{label:(0,e.__)("Choose block","ekiline-block-collection"),value:a.selectBsComponent,options:[{label:(0,e.__)("None","ekiline-block-collection"),value:""},{label:(0,e.__)("Collapse","ekiline-block-collection"),value:"collapse"},{label:(0,e.__)("Modal","ekiline-block-collection"),value:"modal"},{label:(0,e.__)("Offcanvas","ekiline-block-collection"),value:"offcanvas"}],onChange:e=>c({selectBsComponent:e})}),(0,s.jsx)(t.ToggleControl,{label:(0,e.__)("Is close button?","ekiline-block-collection"),checked:!r,onChange:()=>c({dismissBsComponent:!r}),help:r?(0,e.__)("No.","ekiline-block-collection"):(0,e.__)("Yes.","ekiline-block-collection")})]})})]}):(0,s.jsx)(o,{...i})}),"withAdvancedControlsBsImageLink");(0,o.addFilter)("blocks.registerBlockType","ekilineBsImageLinkData/dataAttribute",(function(e){return d.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{anchorBsComponent:{type:"string",default:""},selectBsComponent:{type:"string",default:""},dismissBsComponent:{type:"boolean",default:!0}})),e})),(0,o.addFilter)("editor.BlockEdit","ekilineBsImageLinkData/dataInput",k),(0,o.addFilter)("blocks.getSaveElement","ekilineBsImageLinkData/dataModified",(function(e,t,o){const{dismissBsComponent:l}=o;if(d.includes(t.name)){const t=o.anchorBsComponent,i=o.selectBsComponent,s=o.href,a=e?.props?.children?.props?.children?.[0];if("a"===a?.type){if(l&&t&&i&&s)return(0,n.cloneElement)(e,{},(0,n.cloneElement)(a,{"data-bs-target":t,"data-bs-toggle":i}));if(!l&&t&&i&&s)return(0,n.cloneElement)(e,{},(0,n.cloneElement)(a,{"data-bs-dismiss":i}))}}return e}));const p=["core/button","core/buttons"],u=(0,i.createHigherOrderComponent)((o=>i=>p.includes(i.name)?(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o,{...i}),i.attributes.url&&(0,s.jsx)(l.InspectorControls,{children:(0,s.jsxs)(t.PanelBody,{title:(0,e.__)("Button to Popover (Ekiline)","ekiline-block-collection"),initialOpen:!0,children:[(0,s.jsx)(t.TextControl,{label:(0,e.__)("Popover text to show.","ekiline-block-collection"),value:i.attributes.addDataLnkPopover,onChange:e=>i.setAttributes({addDataLnkPopover:e})}),(0,s.jsx)(t.SelectControl,{label:(0,e.__)("Popover position","ekiline-block-collection"),value:i.attributes.addPositionLnkPopover,options:[{label:(0,e.__)("Auto","ekiline-block-collection"),value:"auto"},{label:(0,e.__)("Top","ekiline-block-collection"),value:"top"},{label:(0,e.__)("Right","ekiline-block-collection"),value:"right"},{label:(0,e.__)("Bottom","ekiline-block-collection"),value:"bottom"},{label:(0,e.__)("Left","ekiline-block-collection"),value:"left"}],onChange:e=>i.setAttributes({addPositionLnkPopover:e})}),(0,s.jsx)(t.ToggleControl,{label:(0,e.__)("Is tooltip","ekiline-block-collection"),checked:i.attributes.defineTooltip,onChange:e=>i.setAttributes({defineTooltip:e})})]})})]}):(0,s.jsx)(o,{...i})),"withAdvancedControlsBtnCollapse");(0,o.addFilter)("blocks.registerBlockType","ekilineLnkPopoverData/dataAttribute",(function(e){return p.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{addDataLnkPopover:{type:"string",default:""},addPositionLnkPopover:{type:"string",default:"auto"},defineTooltip:{type:"boolean",default:!1}})),e})),(0,o.addFilter)("editor.BlockEdit","ekilineLnkPopoverData/dataInput",u),(0,o.addFilter)("blocks.getSaveElement","ekilineLnkPopoverData/dataModified",(function(e,t,o){if(!p.includes(t.name))return e;const{addDataLnkPopover:l,addPositionLnkPopover:i,defineTooltip:s,url:a,text:c}=o;return l&&a&&c?.text?(0,n.cloneElement)(e,{},(0,n.cloneElement)(e.props.children,{"data-bs-content":l,"data-bs-toggle":s?"tooltip":"popover","data-bs-placement":i,title:s?l:c.text})):e}))})();